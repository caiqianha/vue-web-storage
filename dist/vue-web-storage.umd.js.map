{"version":3,"file":"vue-web-storage.umd.js","sources":["../src/types.ts","../src/utils.ts","../src/storage.ts","../src/composables.ts","../src/plugin.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null],"names":["StorageType","encrypt","text","key","keyLength","length","encrypted","i","charCode","charCodeAt","keyCode","String","fromCharCode","btoa","decrypt","encryptedText","atob","decrypted","error","console","warn","isExpired","expires","Date","now","calculateExpires","undefined","serialize","data","shouldEncrypt","encryptKey","jsonString","JSON","stringify","deserialize","parse","deepClone","obj","getTime","Array","map","item","copy","Object","keys","forEach","WebStorage","constructor","options","this","listeners","Map","type","LOCAL","defaultExpires","prefix","storage","localStorage","sessionStorage","clearExpired","getFullKey","emit","get","size","eventData","timestamp","listener","set","value","fullKey","created","serializedData","setItem","getItem","defaultValue","remove","has","removeItem","clear","keysToRemove","startsWith","push","clearedCount","prefixLength","substring","getStats","total","expired","valid","usedBytes","on","Set","add","off","delete","getStorage","getOptions","useStorage","storedValue","state","ref","stopWatcher","watch","newValue","deep","onUnmounted","setOptions","StorageState","startWatching","setValue","reset","refresh","destroy","VueWebStoragePlugin","install","app","localOptions","sessionOptions","globalName","SESSION","local","session","setLocal","bind","getLocal","removeLocal","clearLocal","setSession","getSession","removeSession","clearSession","config","globalProperties","provide","bytes","Math","floor","log","parseFloat","pow","toFixed","hasOwnProperty","batchSet","items","entries","batchGet","result","batchRemove"],"mappings":"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"}